define(["jquery","core/ajax"],function(a,b){var c=function(){var d=b.call([{methodname:"block_groups_create_output",args:{groups:{id:a(this).data("groupid"),courseid:a(this).data("courseid")}}}]);return d[0].done(function(b){var d=b.newelement;a(".group-"+b.id).replaceWith(d),1===b.visibility&&a(".membergroup-"+b.id).removeClass("hiddengroups"),0===b.visibility&&a(".membergroup-"+b.id).addClass("hiddengroups"),a(".group-"+b.id+" .block_groups_toggle").on("click",c)}),!1};return{initialise:function(){a(".block_groups_toggle").on("click",c)}}});