define(["jquery","core/ajax","core/url","core/notification"],function(a,b){var c=function(b){1===b&&a(".block_groups").find("block-groups-membergroup").each(function(){a("li").removeClass("hiddengroups")}),0===b&&a("hiddengroups").each(function(){a("li").removeClass("hiddengroups")})},d=function(d){var e=b.call([{methodname:"block_groups_create_allgroups_output",args:{groups:{action:a(this).data("action"),courseid:d.data.courseid}}}]);return e[0].done(function(b){if(null===b)return!1;a(".block_groups").find(".wrapperlistgroup").replaceWith(b.newelement);var d=b.visibility;c(d)}).fail(function(){return!1}),!1};return{initialise:function(b){a(".block_groups_all_toggle").on("click",{courseid:b},d)}}});